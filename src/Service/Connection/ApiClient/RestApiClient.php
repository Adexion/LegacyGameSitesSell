<?phpnamespace MNGame\Service\Connection\ApiClient;use GuzzleHttp\Client;use GuzzleHttp\Exception\ClientException;use GuzzleHttp\Exception\GuzzleException;use MNGame\Exception\ContentException;use MNGame\Service\EnvironmentService;class RestApiClient{    public const GET = 'GET';    public const POST = 'POST';    private Client $client;    private EnvironmentService $env;    public function __construct(EnvironmentService $env)    {        $this->client = new Client(['timeout' => 10]);        $this->env = $env;    }    /**     * @throws GuzzleException     * @throws ContentException     */    public function request(string $method, string $url, $data = null): string    {        if ($this->env->isTest()) {            return RestApiClientMockProvider::getMock($url, json_encode($data));        }        try {            return (string)$this->client                ->request($method, $url, empty($data) ? [] : $data)                ->getBody()                ->getContents();        } catch (ClientException $e) {            return (string)$e->getResponse()->getBody();        }    }}